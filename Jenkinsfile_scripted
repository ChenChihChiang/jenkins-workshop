node (){
  try {
    stage('first') {
      steps {
        echo 'first'
      }
    }
    stage('final') {
      steps {
        sh 'echo "final"'
      }
    }
  }
  catch (err) {
    currentBuild.result = "FAILED"
    throw err
  }
  finally {
    notifyBuild(currentBuild.result)
  }
}